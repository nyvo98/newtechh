{"ast":null,"code":"import _defineProperty from \"/home/lcnghia/Desktop/STORY/newtechh/FRONTEND/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nlet redux = require('redux');\n\nlet isAuthenticate = '';\nlet username = '';\nlet role = '';\nlet plate = [];\nlet user = localStorage.getItem('userTraffic');\n\nif (user != null) {\n  isAuthenticate = JSON.parse(user).isAuthenticate ? JSON.parse(user).isAuthenticate : '';\n  username = JSON.parse(user).isAuthenticate ? JSON.parse(user).username : '';\n  role = JSON.parse(user).isAuthenticate ? JSON.parse(user).role : '';\n  plate = JSON.parse(user).isAuthenticate ? JSON.parse(user).plate : [];\n}\n\nlet InitialState = {\n  isAuthenticate,\n  username,\n  role,\n  plate\n};\n\nconst allReducer = (state = InitialState, action) => {\n  switch (action.type) {\n    case \"IS_AUTHENTICATE\":\n      localStorage.setItem('userTraffic', JSON.stringify({\n        isAuthenticate: true,\n        username: action.username,\n        role: action.role,\n        plate: action.plate\n      }));\n      return {\n        isAuthenticate: true,\n        username: action.username,\n        role: action.role,\n        plate: action.plate\n      };\n\n    case \"IS_LOGOUT\":\n      localStorage.setItem('userTraffic', JSON.stringify({\n        isAuthenticate: false,\n        username: '',\n        role: '',\n        plate: []\n      }));\n      return {\n        isAuthenticate: false,\n        username: '',\n        role: '',\n        plate: []\n      };\n\n    default:\n      return _objectSpread({}, state);\n  }\n};\n\nlet store = redux.createStore(allReducer, window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());\nstore.subscribe(function () {\n  console.log(JSON.stringify(store.getState()));\n});\nexport default store;","map":{"version":3,"sources":["/home/lcnghia/Desktop/STORY/newtechh/FRONTEND/frontend/src/store/store.js"],"names":["redux","require","isAuthenticate","username","role","plate","user","localStorage","getItem","JSON","parse","InitialState","allReducer","state","action","type","setItem","stringify","store","createStore","window","__REDUX_DEVTOOLS_EXTENSION__","subscribe","console","log","getState"],"mappings":";;;;;;AAAA,IAAIA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAAnB;;AACA,IAAIC,cAAc,GAAG,EAArB;AACA,IAAIC,QAAQ,GAAI,EAAhB;AACA,IAAIC,IAAI,GAAI,EAAZ;AACA,IAAIC,KAAK,GAAG,EAAZ;AACA,IAAIC,IAAI,GAAEC,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAV;;AACA,IAAGF,IAAI,IAAE,IAAT,EAAc;AACVJ,EAAAA,cAAc,GAAGO,IAAI,CAACC,KAAL,CAAWJ,IAAX,EAAiBJ,cAAjB,GAAkCO,IAAI,CAACC,KAAL,CAAWJ,IAAX,EAAiBJ,cAAnD,GAAoE,EAArF;AACAC,EAAAA,QAAQ,GAAIM,IAAI,CAACC,KAAL,CAAWJ,IAAX,EAAiBJ,cAAjB,GAAkCO,IAAI,CAACC,KAAL,CAAWJ,IAAX,EAAiBH,QAAnD,GAA8D,EAA1E;AACAC,EAAAA,IAAI,GAAIK,IAAI,CAACC,KAAL,CAAWJ,IAAX,EAAiBJ,cAAjB,GAAkCO,IAAI,CAACC,KAAL,CAAWJ,IAAX,EAAiBF,IAAnD,GAA0D,EAAlE;AACAC,EAAAA,KAAK,GAAEI,IAAI,CAACC,KAAL,CAAWJ,IAAX,EAAiBJ,cAAjB,GAAkCO,IAAI,CAACC,KAAL,CAAWJ,IAAX,EAAiBD,KAAnD,GAA4D,EAAnE;AACH;;AACD,IAAIM,YAAY,GAAG;AAEfT,EAAAA,cAFe;AAGfC,EAAAA,QAHe;AAIfC,EAAAA,IAJe;AAKfC,EAAAA;AALe,CAAnB;;AASA,MAAMO,UAAU,GAAG,CAACC,KAAK,GAACF,YAAP,EAAoBG,MAApB,KAA6B;AAC5C,UAAOA,MAAM,CAACC,IAAd;AACI,SAAM,iBAAN;AACIR,MAAAA,YAAY,CAACS,OAAb,CAAqB,aAArB,EAAmCP,IAAI,CAACQ,SAAL,CAAe;AAACf,QAAAA,cAAc,EAAC,IAAhB;AAAqBC,QAAAA,QAAQ,EAAEW,MAAM,CAACX,QAAtC;AAA+CC,QAAAA,IAAI,EAACU,MAAM,CAACV,IAA3D;AAAgEC,QAAAA,KAAK,EAACS,MAAM,CAACT;AAA7E,OAAf,CAAnC;AACA,aAAO;AAACH,QAAAA,cAAc,EAAC,IAAhB;AAAqBC,QAAAA,QAAQ,EAAEW,MAAM,CAACX,QAAtC;AAA+CC,QAAAA,IAAI,EAACU,MAAM,CAACV,IAA3D;AAAgEC,QAAAA,KAAK,EAACS,MAAM,CAACT;AAA7E,OAAP;;AACJ,SAAK,WAAL;AACIE,MAAAA,YAAY,CAACS,OAAb,CAAqB,aAArB,EAAmCP,IAAI,CAACQ,SAAL,CAAe;AAACf,QAAAA,cAAc,EAAG,KAAlB;AAAwBC,QAAAA,QAAQ,EAAG,EAAnC;AAAsCC,QAAAA,IAAI,EAAC,EAA3C;AAA8CC,QAAAA,KAAK,EAAC;AAApD,OAAf,CAAnC;AACA,aAAO;AAACH,QAAAA,cAAc,EAAG,KAAlB;AAAwBC,QAAAA,QAAQ,EAAG,EAAnC;AAAsCC,QAAAA,IAAI,EAAC,EAA3C;AAA8CC,QAAAA,KAAK,EAAC;AAApD,OAAP;;AACJ;AACI,+BAAWQ,KAAX;AARR;AAWH,CAZD;;AAcA,IAAIK,KAAK,GAAGlB,KAAK,CAACmB,WAAN,CAAkBP,UAAlB,EAA6BQ,MAAM,CAACC,4BAAP,IAAuCD,MAAM,CAACC,4BAAP,EAApE,CAAZ;AACAH,KAAK,CAACI,SAAN,CAAgB,YAAU;AACtBC,EAAAA,OAAO,CAACC,GAAR,CAAYf,IAAI,CAACQ,SAAL,CAAeC,KAAK,CAACO,QAAN,EAAf,CAAZ;AACH,CAFD;AAGA,eAAeP,KAAf","sourcesContent":["let redux = require('redux');\r\nlet isAuthenticate = '';\r\nlet username  = '';\r\nlet role  = '';\r\nlet plate = [];\r\nlet user =localStorage.getItem('userTraffic');\r\nif(user!=null){\r\n    isAuthenticate = JSON.parse(user).isAuthenticate ? JSON.parse(user).isAuthenticate : '';\r\n    username  = JSON.parse(user).isAuthenticate ? JSON.parse(user).username : '';\r\n    role  = JSON.parse(user).isAuthenticate ? JSON.parse(user).role : '';\r\n    plate =JSON.parse(user).isAuthenticate ? JSON.parse(user).plate :  [];\r\n}\r\nlet InitialState = { \r\n  \r\n    isAuthenticate ,\r\n    username,\r\n    role,\r\n    plate\r\n  \r\n}\r\n\r\nconst allReducer = (state=InitialState,action)=>{\r\n    switch(action.type){\r\n        case  \"IS_AUTHENTICATE\" :\r\n            localStorage.setItem('userTraffic',JSON.stringify({isAuthenticate:true,username :action.username,role:action.role,plate:action.plate}))\r\n            return {isAuthenticate:true,username :action.username,role:action.role,plate:action.plate};\r\n        case \"IS_LOGOUT\" :\r\n            localStorage.setItem('userTraffic',JSON.stringify({isAuthenticate : false,username : '',role:'',plate:[]}))    \r\n            return {isAuthenticate : false,username : '',role:'',plate:[]};\r\n        default : \r\n            return {...state};\r\n\r\n    }\r\n}\r\n\r\nlet store = redux.createStore(allReducer,window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());\r\nstore.subscribe(function(){\r\n    console.log(JSON.stringify(store.getState()));\r\n})\r\nexport default store;"]},"metadata":{},"sourceType":"module"}